<!-- ARQUIVO: paginas/imagens.html -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Imagens | Delta Prompts</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../style.css">
</head>

<body>

<iframe src="../menu.html" class="menu-frame"></iframe>

<main>
  <h1>ğŸ¨ Prompts de Imagens</h1>
  <div id="lista"></div>
</main>

<script>
const categoriaAtual = "Imagens";
const lista = document.getElementById("lista");

/* ===== PROMPTS PADRÃƒO (FORÃ‡AR INSERÃ‡ÃƒO SE NÃƒO EXISTIREM) ===== */
function inserirPromptsPadrao() {
  let prompts = JSON.parse(localStorage.getItem("deltaPrompts")) || [];

  const titulosExistentes = prompts
    .filter(p => p.categoria === "Imagens")
    .map(p => p.titulo);

  const novos = [
    {
      id: Date.now() + 100,
      titulo: "Cidade Futurista Brasileira",
      categoria: "Imagens",
      conteudo: "Uma cidade futurista inspirada no Brasil, de noite, com prÃ©dios de arquitetura moderna misturada a elementos tropicais, luzes neon azuis e roxas, cÃ©u roxo escuro com estrelas visÃ­veis, estilo cyberpunk suave, detalhes arquitetÃ´nicos e reflexos na Ã¡gua, ilustraÃ§Ã£o digital, resoluÃ§Ã£o 4K.",
      favorito: false
    },
    {
      id: Date.now() + 101,
      titulo: "Personagem RetrÃ´ Anos 90",
      categoria: "Imagens",
      conteudo: "Um personagem de jogo estilo retrÃ´ anos 90, homem jovem loiro, camisa preta e Ã³culos escuros, postura confiante, fundo com efeitos de pixeis e gradientes coloridos, traÃ§os limpos, ilustraÃ§Ã£o 2D estilizada, paleta de cores vibrante, resoluÃ§Ã£o alta.",
      favorito: false
    },
    {
      id: Date.now() + 102,
      titulo: "Logo Gamer Profissional",
      categoria: "Imagens",
      conteudo: "Logo de canal gamer em forma de escudo, com centro colorido em degradÃª roxo e laranja, ao redor textura metÃ¡lica prateada, no centro Ã­cone de um monitor com grade de pixels, estilo moderno e profissional, fundo escuro, alta definiÃ§Ã£o, pronto para usar em banner de YouTube e miniatura.",
      favorito: false
    }
  ];

  novos.forEach(p => {
    if (!titulosExistentes.includes(p.titulo)) {
      prompts.push(p);
    }
  });

  localStorage.setItem("deltaPrompts", JSON.stringify(prompts));
}

/* ===== CARREGAR PROMPTS ===== */
function carregarPrompts() {
  lista.innerHTML = "";
  const prompts = JSON.parse(localStorage.getItem("deltaPrompts")) || [];

  prompts
    .filter(p => p.categoria === categoriaAtual)
    .forEach(p => {
      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `
        <h3>${p.titulo}</h3>
        <p class="texto">${p.conteudo}</p>

        <div class="acoes">
          <button data-id="${p.id}" class="copiar">ğŸ“‹ Copiar</button>
          <button data-id="${p.id}" class="editar">âœï¸ Editar</button>
          <button data-id="${p.id}" class="apagar">ğŸ—‘ï¸ Apagar</button>
          <button data-id="${p.id}" class="favoritar">
            ${p.favorito ? "â¤ï¸" : "ğŸ¤"}
          </button>
        </div>
      `;
      lista.appendChild(card);
    });
}

/* ===== AÃ‡Ã•ES ===== */
lista.addEventListener("click", e => {
  const id = Number(e.target.dataset.id);
  if (!id) return;

  let prompts = JSON.parse(localStorage.getItem("deltaPrompts")) || [];
  const prompt = prompts.find(p => p.id === id);

  if (e.target.classList.contains("copiar")) {
    navigator.clipboard.writeText(prompt.conteudo);
    e.target.innerText = "âœ… Copiado";
    setTimeout(() => e.target.innerText = "ğŸ“‹ Copiar", 1200);
  }

  if (e.target.classList.contains("editar")) {
    const novoTitulo = window.prompt("Editar tÃ­tulo:", prompt.titulo);
    const novoConteudo = window.prompt("Editar conteÃºdo:", prompt.conteudo);
    if (novoTitulo && novoConteudo) {
      prompt.titulo = novoTitulo;
      prompt.conteudo = novoConteudo;
    }
  }

  if (e.target.classList.contains("apagar")) {
    prompts = prompts.filter(p => p.id !== id);
  }

  if (e.target.classList.contains("favoritar")) {
    prompt.favorito = !prompt.favorito;
  }

  localStorage.setItem("deltaPrompts", JSON.stringify(prompts));
  carregarPrompts();
});

/* ===== INIT ===== */
inserirPromptsPadrao();
carregarPrompts();
</script>

</body>
</html>
